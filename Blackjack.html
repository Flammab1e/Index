<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blackjack</title>
    <link rel="stylesheet" type="text/css" href="../CSS/blackjack.css">
    <style>
        .card {
            width: 50px;
            height: 70px;
            margin: 5px;
        }
    </style>
</head>
<body>

<h1>Blackjack</h1>

<button onclick="startGame()">Start Game</button>
<button onclick="hit()">Hit</button>
<button onclick="stand()">Stand</button>

<div id="player-hand">
    <h2>Player's Hand</h2>
    <div id="player-cards"></div>
    <p id="player-score"></p>
</div>

<div id="dealer-hand">
    <h2>Dealer's Hand</h2>
    <div id="dealer-cards"></div>
    <p id="dealer-score"></p>
</div>

<div id="result"></div>

<script>
    let suits = ["Hearts", "Diamonds", "Clubs", "Spades"];
    let values = ["2", "3", "4", "5", "6", "7", "8", "9", "10", "J", "Q", "K", "A"];

    let playerHand = [];
    let dealerHand = [];

    function startGame() {
        playerHand = [];
        dealerHand = [];
        document.getElementById("result").innerText = "";
        drawCard("player");
        drawCard("dealer");
        drawCard("player");
        drawCard("dealer");
        updateScores();
    }

    function drawCard(player) {
        let card = { value: values[Math.floor(Math.random() * values.length)], suit: suits[Math.floor(Math.random() * suits.length)] };
        let cardImage = `images/${card.value}_of_${card.suit.toLowerCase()}.png`;

        if (player === "player") {
            playerHand.push(card);
            document.getElementById("player-cards").innerHTML += `<img class="card" src="${cardImage}" alt="${card.value} of ${card.suit}">`;
        } else {
            dealerHand.push(card);
            document.getElementById("dealer-cards").innerHTML += `<img class="card" src="${cardImage}" alt="${card.value} of ${card.suit}">`;
        }
    }

    function updateScores() {
        document.getElementById("player-score").innerText = "Score: " + calculateScore(playerHand);
        document.getElementById("dealer-score").innerText = "Score: " + calculateScore(dealerHand);
    }

    function calculateScore(hand) {
        let score = 0;
        let hasAce = false;

        for (let card of hand) {
            if (card.value === "A") {
                hasAce = true;
            }
            score += getValue(card.value);
        }

        if (hasAce && score + 10 <= 21) {
            score += 10;
        }

        return score;
    }

    function getValue(cardValue) {
        if (cardValue === "J" || cardValue === "Q" || cardValue === "K") {
            return 10;
        } else if (cardValue === "A") {
            return 1;
        } else {
            return parseInt(cardValue);
        }
    }

    function hit() {
        drawCard("player");
        updateScores();

        if (calculateScore(playerHand) > 21) {
            document.getElementById("result").innerText = "Player busts! Dealer wins.";
        }
    }

    function stand() {
        while (calculateScore(dealerHand) < 17) {
            drawCard("dealer");
        }

        updateScores();

        if (calculateScore(dealerHand) > 21 || calculateScore(playerHand) > calculateScore(dealerHand)) {
            document.getElementById("result").innerText = "Player wins!";
        } else if (calculateScore(playerHand) < calculateScore(dealerHand)) {
            document.getElementById("result").innerText = "Dealer wins!";
        } else {
            document.getElementById("result").innerText = "It's a tie!";
        }
    }
</script>

</body>
</html>
